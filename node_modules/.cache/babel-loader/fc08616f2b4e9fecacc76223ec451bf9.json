{"ast":null,"code":"import _slicedToArray from\"/home/aqua/Documents/Programming/mouseion-master/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect,useRef,StrictMode}from'react';import ReactDOM from'react-dom';import{BrowserRouter}from'react-router-dom';import'./style.scss';import'./backgrounds.css';import Navbar from'./navbar';import BottomPlayer from'./bottom-player';import MainContent from'./main-content';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function formatTime(currentTime,duration){if(isNaN(currentTime))currentTime=0;if(isNaN(duration))duration=0;var currentHours=String(Math.floor(currentTime/3600));var currentSeconds=String(Math.floor(currentTime)%60).padStart(2,0);var durationHours=String(Math.floor(duration/3600));var durationSeconds=String(Math.floor(duration)%60).padStart(2,0);var currentMinutes=String(Math.floor(currentTime/60)%60);var durationMinutes=String(Math.floor(duration/60)%60);if(duration>=600){currentMinutes=currentMinutes.padStart(2,0);durationMinutes=durationMinutes.padStart(2,0);}var curStr=\"\".concat(currentMinutes,\":\").concat(currentSeconds);var durStr=\"\".concat(durationMinutes,\":\").concat(durationSeconds);if(duration>=3600){curStr=\"\".concat(currentHours,\":\")+curStr;durStr=\"\".concat(durationHours,\":\")+durStr;}return\"\".concat(curStr,\" / \").concat(durStr);}function Root(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentTime=_useState2[0],setCurrentTime=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),duration=_useState4[0],setDuration=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),timeStat=_useState6[0],setTimeStat=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),volume=_useState8[0],setVolume=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),oldVolume=_useState10[0],setOldVolume=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),repeat=_useState12[0],setRepeat=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),shuffle=_useState14[0],setShuffle=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),paused=_useState16[0],setPaused=_useState16[1];var audio=useRef();// Init event\nuseEffect(function(){// audio.current.src = 'https://picardia.co/mouseion/songs/f3b7681372e8f95117aef9388590a3942f0bc64d.mp3'\naudio.current.src='https://picardia.co/mouseion/songs/74664af2529421f10bb2bf65237b10d2c3abb61c.mp3';audio.current.addEventListener('timeupdate',function(){setCurrentTime(audio.current.currentTime);});audio.current.addEventListener('durationchange',function(){setDuration(audio.current.duration);});setInterval(function(){setTimeStat(formatTime(Math.round(audio.current.currentTime),Math.round(audio.current.duration)));},1000);},[]);function changeVol(newVol){console.log('Volume change',newVol);audio.current.volume=newVol;setVolume(newVol);setOldVolume(newVol);}function toggleMute(){if(volume!==0){audio.current.volume=0;setOldVolume(volume);setVolume(0);}else{audio.current.volume=oldVolume;setVolume(oldVolume);}}function changeRepeat(){setRepeat((repeat+1)%3);}function toggleShuffle(){setShuffle(!shuffle);}function togglePause(){if(paused){audio.current.play();}else{audio.current.pause();}setPaused(!paused);}function seek(timeFrac){var newTime=timeFrac*duration;audio.current.currentTime=newTime;}return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(\"audio\",{ref:audio}),/*#__PURE__*/_jsx(MainContent,{}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(BottomPlayer,{albumCover:\"https://picardia.co/static/papes/4b50dbaa-624e-11e7-b2fe-3a6e8f7c670f.jpg\",songName:\"Song Name\",artistName:\"Artist Name\",albumName:\"Album Name\",timeStat:timeStat,currentTime:currentTime,duration:duration,volume:volume,repeat:repeat,shuffle:shuffle,paused:paused,handleChangeVol:changeVol,handleToggleMute:toggleMute,handleChangeRepeat:changeRepeat,handleToggleShuffle:toggleShuffle,handleTogglePause:togglePause,handleSeek:seek})]});}ReactDOM.render(/*#__PURE__*/_jsx(StrictMode,{children:/*#__PURE__*/_jsx(Root,{})}),document.getElementById('root'));","map":{"version":3,"sources":["/home/aqua/Documents/Programming/mouseion-master/front-end/src/index.jsx"],"names":["useState","useEffect","useRef","StrictMode","ReactDOM","BrowserRouter","Navbar","BottomPlayer","MainContent","formatTime","currentTime","duration","isNaN","currentHours","String","Math","floor","currentSeconds","padStart","durationHours","durationSeconds","currentMinutes","durationMinutes","curStr","durStr","Root","setCurrentTime","setDuration","timeStat","setTimeStat","volume","setVolume","oldVolume","setOldVolume","repeat","setRepeat","shuffle","setShuffle","paused","setPaused","audio","current","src","addEventListener","setInterval","round","changeVol","newVol","console","log","toggleMute","changeRepeat","toggleShuffle","togglePause","play","pause","seek","timeFrac","newTime","render","document","getElementById"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef, StrictMode } from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport './style.scss'\nimport './backgrounds.css'\n\nimport Navbar from './navbar'\nimport BottomPlayer from './bottom-player'\nimport MainContent from './main-content'\n\nfunction formatTime (currentTime, duration) {\n  if (isNaN(currentTime)) currentTime = 0\n  if (isNaN(duration)) duration = 0\n  const currentHours = String(Math.floor(currentTime / 3600))\n  const currentSeconds = String(Math.floor(currentTime) % 60).padStart(2, 0)\n  const durationHours = String(Math.floor(duration / 3600))\n  const durationSeconds = String(Math.floor(duration) % 60).padStart(2, 0)\n  let currentMinutes = String(Math.floor(currentTime / 60) % 60)\n  let durationMinutes = String(Math.floor(duration / 60) % 60)\n  if (duration >= 600) {\n    currentMinutes = currentMinutes.padStart(2, 0)\n    durationMinutes = durationMinutes.padStart(2, 0)\n  }\n  let curStr = `${currentMinutes}:${currentSeconds}`\n  let durStr = `${durationMinutes}:${durationSeconds}`\n  if (duration >= 3600) {\n    curStr = `${currentHours}:` + curStr\n    durStr = `${durationHours}:` + durStr\n  }\n  return `${curStr} / ${durStr}`\n}\n\nfunction Root () {\n  const [currentTime, setCurrentTime] = useState(0)\n  const [duration, setDuration] = useState(0)\n  const [timeStat, setTimeStat] = useState('')\n  const [volume, setVolume] = useState(1)\n  const [oldVolume, setOldVolume] = useState(1)\n  const [repeat, setRepeat] = useState(0)\n  const [shuffle, setShuffle] = useState(false)\n  const [paused, setPaused] = useState(true)\n  const audio = useRef()\n\n  // Init event\n  useEffect(() => {\n    // audio.current.src = 'https://picardia.co/mouseion/songs/f3b7681372e8f95117aef9388590a3942f0bc64d.mp3'\n    audio.current.src = 'https://picardia.co/mouseion/songs/74664af2529421f10bb2bf65237b10d2c3abb61c.mp3'\n    audio.current.addEventListener('timeupdate', () => {\n      setCurrentTime(audio.current.currentTime)\n    })\n    audio.current.addEventListener('durationchange', () => {\n      setDuration(audio.current.duration)\n    })\n    setInterval(() => {\n      setTimeStat(formatTime(Math.round(audio.current.currentTime), Math.round(audio.current.duration)))\n    }, 1000)\n  }, [])\n\n  function changeVol (newVol) {\n    console.log('Volume change', newVol)\n    audio.current.volume = newVol\n    setVolume(newVol)\n    setOldVolume(newVol)\n  }\n  function toggleMute () {\n    if (volume !== 0) {\n      audio.current.volume = 0\n      setOldVolume(volume)\n      setVolume(0)\n    } else {\n      audio.current.volume = oldVolume\n      setVolume(oldVolume)\n    }\n  }\n  function changeRepeat () {\n    setRepeat((repeat + 1) % 3)\n  }\n  function toggleShuffle () {\n    setShuffle(!shuffle)\n  }\n  function togglePause () {\n    if (paused) {\n      audio.current.play()\n    } else {\n      audio.current.pause()\n    }\n    setPaused(!paused)\n  }\n  function seek (timeFrac) {\n    const newTime = timeFrac * duration\n    audio.current.currentTime = newTime\n  }\n\n  return (\n    <BrowserRouter>\n      <audio ref={audio} />\n      <MainContent />\n      <Navbar />\n      <BottomPlayer\n        albumCover='https://picardia.co/static/papes/4b50dbaa-624e-11e7-b2fe-3a6e8f7c670f.jpg'\n        songName='Song Name'\n        artistName='Artist Name'\n        albumName='Album Name'\n        timeStat={timeStat}\n        currentTime={currentTime}\n        duration={duration}\n        volume={volume}\n        repeat={repeat}\n        shuffle={shuffle}\n        paused={paused}\n        handleChangeVol={changeVol}\n        handleToggleMute={toggleMute}\n        handleChangeRepeat={changeRepeat}\n        handleToggleShuffle={toggleShuffle}\n        handleTogglePause={togglePause}\n        handleSeek={seek}\n      />\n    </BrowserRouter>\n  )\n}\n\nReactDOM.render(\n  <StrictMode>\n    <Root />\n  </StrictMode>,\n  document.getElementById('root')\n)\n"]},"metadata":{},"sourceType":"module"}