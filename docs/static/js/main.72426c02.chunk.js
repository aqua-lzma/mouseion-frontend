(this.webpackJsonpmouseion=this.webpackJsonpmouseion||[]).push([[0],{35:function(e,a,t){},36:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var c=t(4),s=t(2),r=t(28),n=t.n(r),l=t(9),i=t(5),j=(t(35),t(36),t(1));function o(e){var a=Object(s.useState)(""),t=Object(c.a)(a,2),r=t[0],n=t[1];return Object(j.jsxs)("div",{className:"bg-nav fixed inset-x-0 top-0 px-2 lg:py-1 grid grid-cols-3 items-center",children:[Object(j.jsxs)(l.b,{className:"text-xl",to:"/",children:["\u84b8\u6c17",Object(j.jsxs)("span",{className:"hidden sm:inline",children:[Object(j.jsx)("span",{className:"text-gray-300",children:"\u306e"}),"\u535a\u7269\u9928"]})]}),Object(j.jsxs)("div",{className:"flex my-2",children:[Object(j.jsx)("input",{className:"appearance-none bg-transparent border rounded-l-sm border-white border-opacity-50 placeholder-white placeholder-opacity-70 px-1 lg:px-2 w-full",placeholder:"Search",onChange:function(e){return n(e.target.value)}}),Object(j.jsx)(l.b,{to:"/search/".concat(r),className:"cursor-pointer py-1.5 px-2 lg:px-3 border border-l-0 rounded-r-sm border-white border-opacity-50",children:Object(j.jsx)("svg",{className:"h-5",fill:"rgba(255, 255, 255, 0.7)",viewBox:"0 0 24 24",focusable:"false",children:Object(j.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})})]}),Object(j.jsxs)("div",{className:"flex justify-self-end space-x-2 md:space-x-4",children:[Object(j.jsx)(l.b,{className:"p-1 hidden sm:block",to:"/labels",children:Object(j.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(j.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})})}),Object(j.jsx)(l.b,{className:"p-1 hidden sm:block",to:"/artists",children:Object(j.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(j.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),Object(j.jsx)(l.b,{className:"p-1 hidden sm:block",to:"/albums",children:Object(j.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(j.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"})})}),Object(j.jsx)(l.b,{className:"p-1 hidden sm:block",to:"/songs",children:Object(j.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(j.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})})}),Object(j.jsx)(l.b,{className:"p-1",to:"/settings",children:Object(j.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(j.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})})})]})]})}var b=t(17),d=t.n(b),h=t(19),u=t(26);t(48);u.a.initializeApp({projectId:"mouseion-tis-atmos"});var f=u.a,x=f.firestore(),m=t(27);function O(e){var a=Object(s.useRef)();return Object(s.useEffect)((function(){var t=new IntersectionObserver((function(c){c[0].isIntersecting&&(null!=e.image?a.current.src=e.image:a.current.src="https://picardia.co/static/papes/4b50dbaa-624e-11e7-b2fe-3a6e8f7c670f.jpg",a.current.addEventListener("load",(function(){a.current.style.opacity=1})),t.disconnect())}));t.observe(a.current)}),[]),Object(j.jsx)("img",Object(m.a)(Object(m.a)({},e),{},{ref:a}))}function p(e){return Object(j.jsxs)(l.b,{className:"m-2 transition bg-gray-800 bg-opacity-60 hover:filter brightness-150 p-2 hover:bg-gray-400 hover:text-gray-800",to:null==e.to?"#":e.to,title:e.text,children:[Object(j.jsx)(O,{className:"w-40 h-40 object-cover object-center opacity-0 transition-opacity delay-1000",image:e.image}),Object(j.jsx)("p",{className:"w-40 text-xl text-center truncate",children:e.text})]})}function v(){var e=Object(s.useState)([]),a=Object(c.a)(e,2),t=a[0],r=a[1];return Object(s.useEffect)(Object(h.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.collection("t3artists").orderBy("name").limit(100).get();case 2:a=e.sent,r(a.docs);case 4:case"end":return e.stop()}}),e)}))),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"text-3xl pb-4 border-b border-gray-600 border-opacity-70",children:"Artists"}),Object(j.jsx)("div",{className:"flex flex-wrap",children:t.map((function(e,a){return Object(j.jsx)(p,{text:e.data().name,to:"/artist/".concat(e.id)},a)}))})]})}var g=t(30);function N(e){var a=Object(i.f)().id,t=Object(s.useState)(""),r=Object(c.a)(t,2),n=r[0],l=r[1],o=Object(s.useState)([]),b=Object(c.a)(o,2),u=(b[0],b[1],Object(s.useState)([])),m=Object(c.a)(u,2),v=(m[0],m[1],Object(s.useState)([])),N=Object(c.a)(v,2),S=N[0],z=N[1],w=Object(s.useState)([]),M=Object(c.a)(w,2),k=M[0],y=(M[1],Object(s.useState)([])),C=Object(c.a)(y,2),V=(C[0],C[1],Object(s.useState)([])),B=Object(c.a)(V,2),L=(B[0],B[1],Object(s.useState)([])),H=Object(c.a)(L,2),T=(H[0],H[1],Object(s.useState)([])),E=Object(c.a)(T,2),I=(E[0],E[1],Object(s.useState)([])),A=Object(c.a)(I,2),R=(A[0],A[1],Object(s.useState)([])),F=Object(c.a)(R,2),P=(F[0],F[1],Object(s.useState)([])),J=Object(c.a)(P,2),W=(J[0],J[1],Object(s.useState)([])),D=Object(c.a)(W,2),Q=(D[0],D[1],Object(s.useState)([])),U=Object(c.a)(Q,2),Y=(U[0],U[1],Object(s.useState)([])),q=Object(c.a)(Y,2),G=(q[0],q[1],Object(s.useState)([])),K=Object(c.a)(G,2),X=(K[0],K[1],Object(s.useState)([])),Z=Object(c.a)(X,2),$=(Z[0],Z[1],Object(s.useState)([])),_=Object(c.a)($,2),ee=(_[0],_[1],Object(s.useState)([])),ae=Object(c.a)(ee,2);ae[0],ae[1];return Object(s.useEffect)(Object(h.a)(d.a.mark((function e(){var t,c,s,r,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.collection("t3artists").where(f.firestore.FieldPath.documentId(),"==",a).get();case 2:if(0!==(t=e.sent).size){e.next=7;break}l("Artist not found."),e.next=31;break;case 7:c=t.docs[0],l(c.get("name")),s=[],r=Object(g.a)(c.get("variants")),e.prev=11,r.s();case 13:if((n=r.n()).done){e.next=22;break}return i=n.value,e.t0=s,e.next=18,i.get();case 18:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 20:e.next=13;break;case 22:e.next=27;break;case 24:e.prev=24,e.t2=e.catch(11),r.e(e.t2);case 27:return e.prev=27,r.f(),e.finish(27);case 30:z(s);case 31:case"end":return e.stop()}}),e,null,[[11,24,27,30]])}))),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O,{className:"h-64 w-64 float-left"}),Object(j.jsx)("h1",{className:"text-3xl pb-4 border-b border-gray-600 border-opacity-70",children:n}),Object(j.jsxs)("p",{className:"",children:["Variants:",S.map((function(e,a){return Object(j.jsx)("button",{children:e.get("name")},a)}))]}),Object(j.jsx)("div",{className:"flex flex-wrap",children:k.map((function(e,a){return Object(j.jsx)(p,{text:e.data().title,image:"https://picardia.co/mouseion/images/".concat(e.data().artwork[0])},a)}))})]})}function S(e){var a;return a=0===e.volume?Object(j.jsx)("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"}):e.volume<1/3?Object(j.jsx)("path",{d:"M7 9v6h4l5 5V4l-5 5H7z"}):e.volume<2/3?Object(j.jsx)("path",{d:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"}):Object(j.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}),Object(j.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:a})}function z(e){var a=Object(j.jsx)("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"});return 2===e.repeat&&(a=Object(j.jsx)("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4zm-4-2V9h-1l-2 1v1h1.5v4H13z"})),Object(j.jsx)("svg",{className:"h-6",fill:0===e.repeat?"#999999":"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:a})}function w(e){var a=Object(j.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"});return e.paused&&(a=Object(j.jsx)("path",{d:"M8 5v14l11-7z"})),Object(j.jsx)("svg",{className:"h-8 md:h-10",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:a})}function M(e){var a=Object(s.useRef)();function t(t){a.current.step="any";var c=Math.pow(Number(a.current.value),2);console.log(c),e.handleChangeVol(c)}return Object(j.jsxs)("div",{className:"bg-gray-800 fixed inset-x-0 bottom-0 grid grid-cols-2",children:[Object(j.jsxs)("div",{className:"flex items-center space-x-2 sm:mx-2 md:space-x-4",children:[Object(j.jsx)("img",{className:"h-10 w-10 object-cover object-center hidden md:block",src:e.albumCover}),Object(j.jsxs)("div",{className:"text-sm overflow-hidden",children:[Object(j.jsx)("p",{className:"truncate cursor-pointer hover:underline select-none",children:Object(j.jsx)("b",{children:e.songName})}),Object(j.jsxs)("p",{className:"truncate select-none",children:[Object(j.jsx)("span",{className:"cursor-pointer hover:underline",children:e.artistName})," \u2022 ",Object(j.jsx)("span",{className:"cursor-pointer hover:underline",children:e.albumName})]})]}),Object(j.jsx)("span",{className:"whitespace-nowrap text-xs font-mono tracking-tighter hidden sm:block",children:e.timeStat})]}),Object(j.jsxs)("div",{className:"flex items-center justify-end lg:space-x-2",children:[Object(j.jsx)("input",{className:"volume-slider hidden sm:block",type:"range",min:"0",max:"1",step:"any",onChange:t,onWheel:function(e){e.target.step=.1},ref:a}),Object(j.jsx)("div",{className:"cursor-pointer p-1 md:p-2",onClick:e.handleToggleMute,onWheel:function(e){a.current.step=.1,e.deltaY<0?a.current.stepUp(1):a.current.stepDown(1),t()},children:Object(j.jsx)(S,{volume:e.volume})}),Object(j.jsx)("div",{className:"cursor-pointer hidden sm:block p-1 md:p-2",onClick:e.handleChangeRepeat,children:Object(j.jsx)(z,{repeat:e.repeat})}),Object(j.jsx)("div",{className:"cursor-pointer hidden sm:block p-1 md:p-2",onClick:e.handleToggleShuffle,children:Object(j.jsx)("svg",{className:"h-6",fill:e.shuffle?"#ffffff":"#999999",viewBox:"0 0 24 24",focusable:"false",children:Object(j.jsx)("path",{d:"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"})})}),Object(j.jsx)("div",{className:"cursor-pointer hidden sm:block p-1 md:p-2",onClick:e.handleToggleQueue,children:Object(j.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(j.jsx)("path",{d:"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"})})}),Object(j.jsx)("div",{className:"cursor-pointer hidden sm:block p-1 md:p-2",onClick:e.handleSkipBack,children:Object(j.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(j.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})})}),Object(j.jsx)("div",{className:"cursor-pointer p-1 md:p-2",onClick:e.handleTogglePause,children:Object(j.jsx)(w,{paused:e.paused})}),Object(j.jsx)("div",{className:"cursor-pointer p-1 md:p-2",onClick:e.handleSkipFwd,children:Object(j.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(j.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})})}),Object(j.jsx)("div",{className:"cursor-pointer sm:hidden p-1 md:p-2",children:Object(j.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(j.jsx)("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})})})]}),Object(j.jsx)("input",{className:"w-full track-slider",type:"range",min:"0",max:"1",step:"any",value:String(e.currentTime/e.duration),onChange:function(a){var t=Number(a.target.value);e.handleSeek(t)}}),Object(j.jsx)("div",{className:"absolute w-full h-full overflow-hidden",style:{zIndex:-1},children:Object(j.jsx)("img",{className:"w-full h-full object-cover object-center filter blur-2xl brightness-50",src:e.albumCover})})]})}function k(){return Object(j.jsx)("h1",{children:"Home"})}function y(){var e=Object(s.useState)(0),a=Object(c.a)(e,2),t=a[0],r=a[1],n=Object(s.useState)(0),b=Object(c.a)(n,2),d=b[0],h=b[1],u=Object(s.useState)(""),f=Object(c.a)(u,2),x=f[0],m=f[1],O=Object(s.useState)(1),p=Object(c.a)(O,2),g=p[0],S=p[1],z=Object(s.useState)(1),w=Object(c.a)(z,2),y=w[0],C=w[1],V=Object(s.useState)(0),B=Object(c.a)(V,2),L=B[0],H=B[1],T=Object(s.useState)(!1),E=Object(c.a)(T,2),I=E[0],A=E[1],R=Object(s.useState)(!0),F=Object(c.a)(R,2),P=F[0],J=F[1],W=Object(s.useRef)();return Object(s.useEffect)((function(){W.current.src="https://picardia.co/mouseion/songs/74664af2529421f10bb2bf65237b10d2c3abb61c.mp3",W.current.addEventListener("timeupdate",(function(){r(W.current.currentTime)})),W.current.addEventListener("durationchange",(function(){h(W.current.duration)})),setInterval((function(){m(function(e,a){isNaN(e)&&(e=0),isNaN(a)&&(a=0);var t=String(Math.floor(e/3600)),c=String(Math.floor(e)%60).padStart(2,0),s=String(Math.floor(a/3600)),r=String(Math.floor(a)%60).padStart(2,0),n=String(Math.floor(e/60)%60),l=String(Math.floor(a/60)%60);a>=600&&(n=n.padStart(2,0),l=l.padStart(2,0));var i="".concat(n,":").concat(c),j="".concat(l,":").concat(r);return a>=3600&&(i="".concat(t,":")+i,j="".concat(s,":")+j),"".concat(i," / ").concat(j)}(Math.round(W.current.currentTime),Math.round(W.current.duration)))}),1e3)}),[]),Object(j.jsxs)(l.a,{children:[Object(j.jsx)(o,{}),Object(j.jsx)("audio",{ref:W}),Object(j.jsx)("div",{className:"bg-main py-16 lg:py-20 min-h-screen",children:Object(j.jsx)("div",{className:"mx-2 sm:mx-4 md:mx-8 lg:mx-16 xl:mx-30 2xl:mx-40 space-y-4",children:Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",children:Object(j.jsx)(k,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/labels",children:Object(j.jsx)(k,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/artists",children:Object(j.jsx)(v,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/albums",children:Object(j.jsx)(k,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/songs",children:Object(j.jsx)(k,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/artist/:id",children:Object(j.jsx)(N,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/album/:id",children:Object(j.jsx)(k,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/search",children:Object(j.jsx)(k,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/settings",children:Object(j.jsx)(k,{})})]})})}),Object(j.jsx)(M,{albumCover:"https://picardia.co/static/papes/4b50dbaa-624e-11e7-b2fe-3a6e8f7c670f.jpg",songName:"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",artistName:"Artist Name",albumName:"Album Name",timeStat:x,currentTime:t,duration:d,volume:g,repeat:L,shuffle:I,paused:P,handleChangeVol:function(e){W.current.volume=e,S(e),C(e)},handleToggleMute:function(){0!==g?(W.current.volume=0,C(g),S(0)):(W.current.volume=y,S(y))},handleChangeRepeat:function(){H((L+1)%3)},handleToggleShuffle:function(){A(!I)},handleTogglePause:function(){P?W.current.play():W.current.pause(),J(!P)},handleSeek:function(e){var a=e*d;W.current.currentTime=a}})]})}n.a.render(Object(j.jsx)(s.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.72426c02.chunk.js.map