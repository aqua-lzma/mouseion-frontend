(this.webpackJsonpmouseion=this.webpackJsonpmouseion||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var a=c(4),s=c(2),r=c(26),n=c.n(r),l=c(9),i=(c(32),c(33),c(1));function j(e){var t=Object(s.useState)(""),c=Object(a.a)(t,2),r=c[0],n=c[1];return Object(i.jsxs)("div",{className:"bg-nav fixed inset-x-0 top-0 px-2 lg:py-1 grid grid-cols-3 items-center",children:[Object(i.jsxs)(l.b,{className:"text-xl",to:"/",children:["\u84b8\u6c17",Object(i.jsxs)("span",{className:"hidden sm:inline",children:[Object(i.jsx)("span",{className:"text-gray-300",children:"\u306e"}),"\u535a\u7269\u9928"]})]}),Object(i.jsxs)("div",{className:"flex my-2",children:[Object(i.jsx)("input",{className:"appearance-none bg-transparent border rounded-l-sm border-white border-opacity-50 placeholder-white placeholder-opacity-70 px-1 lg:px-2 w-full",placeholder:"Search",onChange:function(e){return n(e.target.value)}}),Object(i.jsx)(l.b,{to:"/search/".concat(r),className:"cursor-pointer py-1.5 px-2 lg:px-3 border border-l-0 rounded-r-sm border-white border-opacity-50",children:Object(i.jsx)("svg",{className:"h-5",fill:"rgba(255, 255, 255, 0.7)",viewBox:"0 0 24 24",focusable:"false",children:Object(i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})})]}),Object(i.jsxs)("div",{className:"flex justify-self-end space-x-2 md:space-x-4",children:[Object(i.jsx)(l.b,{className:"p-1 hidden sm:block",to:"/labels",children:Object(i.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(i.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})})}),Object(i.jsx)(l.b,{className:"p-1 hidden sm:block",to:"/artists",children:Object(i.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(i.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),Object(i.jsx)(l.b,{className:"p-1 hidden sm:block",to:"/albums",children:Object(i.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"})})}),Object(i.jsx)(l.b,{className:"p-1 hidden sm:block",to:"/songs",children:Object(i.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(i.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})})}),Object(i.jsx)(l.b,{className:"p-1",to:"/settings",children:Object(i.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(i.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})})})]})]})}function o(e){var t;return t=0===e.volume?Object(i.jsx)("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"}):e.volume<1/3?Object(i.jsx)("path",{d:"M7 9v6h4l5 5V4l-5 5H7z"}):e.volume<2/3?Object(i.jsx)("path",{d:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"}):Object(i.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}),Object(i.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:t})}function b(e){var t=Object(i.jsx)("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"});return 2===e.repeat&&(t=Object(i.jsx)("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4zm-4-2V9h-1l-2 1v1h1.5v4H13z"})),Object(i.jsx)("svg",{className:"h-6",fill:0===e.repeat?"#999999":"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:t})}function d(e){var t=Object(i.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"});return e.paused&&(t=Object(i.jsx)("path",{d:"M8 5v14l11-7z"})),Object(i.jsx)("svg",{className:"h-8 md:h-10",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:t})}function h(e){return Object(i.jsxs)("div",{className:"bg-gray-800 fixed inset-x-0 bottom-0 grid grid-cols-2",children:[Object(i.jsxs)("div",{className:"flex items-center space-x-2 sm:mx-2 md:space-x-4",children:[Object(i.jsx)("img",{className:"h-10 w-10 object-cover object-center hidden md:block",src:e.albumCover}),Object(i.jsxs)("div",{className:"text-sm overflow-hidden",children:[Object(i.jsx)("p",{className:"truncate cursor-pointer hover:underline select-none",children:Object(i.jsx)("b",{children:e.songName})}),Object(i.jsxs)("p",{className:"truncate select-none",children:[Object(i.jsx)("span",{className:"cursor-pointer hover:underline",children:e.artistName})," \u2022 ",Object(i.jsx)("span",{className:"cursor-pointer hover:underline",children:e.albumName})]})]}),Object(i.jsx)("span",{className:"whitespace-nowrap text-xs font-mono tracking-tighter hidden sm:block",children:e.timeStat})]}),Object(i.jsxs)("div",{className:"flex items-center justify-end lg:space-x-2",children:[Object(i.jsx)("input",{className:"volume-slider hidden sm:block",type:"range",min:"0",max:"1",step:"any",onChange:function(t){t.target.step="any";var c=Math.pow(Number(t.target.value),2);e.handleChangeVol(c)},onWheel:function(e){e.target.step=.1}}),Object(i.jsx)("div",{className:"cursor-pointer p-1 md:p-2",onClick:e.handleToggleMute,children:Object(i.jsx)(o,{volume:e.volume})}),Object(i.jsx)("div",{className:"cursor-pointer hidden sm:block p-1 md:p-2",onClick:e.handleChangeRepeat,children:Object(i.jsx)(b,{repeat:e.repeat})}),Object(i.jsx)("div",{className:"cursor-pointer hidden sm:block p-1 md:p-2",onClick:e.handleToggleShuffle,children:Object(i.jsx)("svg",{className:"h-6",fill:e.shuffle?"#ffffff":"#999999",viewBox:"0 0 24 24",focusable:"false",children:Object(i.jsx)("path",{d:"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"})})}),Object(i.jsx)("div",{className:"cursor-pointer hidden sm:block p-1 md:p-2",onClick:e.handleToggleQueue,children:Object(i.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(i.jsx)("path",{d:"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"})})}),Object(i.jsx)("div",{className:"cursor-pointer hidden sm:block p-1 md:p-2",onClick:e.handleSkipBack,children:Object(i.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(i.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})})}),Object(i.jsx)("div",{className:"cursor-pointer p-1 md:p-2",onClick:e.handleTogglePause,children:Object(i.jsx)(d,{paused:e.paused})}),Object(i.jsx)("div",{className:"cursor-pointer p-1 md:p-2",onClick:e.handleSkipFwd,children:Object(i.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(i.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})})}),Object(i.jsx)("div",{className:"cursor-pointer sm:hidden p-1 md:p-2",children:Object(i.jsx)("svg",{className:"h-6",fill:"#ffffff",viewBox:"0 0 24 24",focusable:"false",children:Object(i.jsx)("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})})})]}),Object(i.jsx)("input",{className:"w-full track-slider",type:"range",min:"0",max:"1",step:"any",value:e.currentTime/e.duration,onChange:function(t){var c=Number(t.target.value);e.handleSeek(c)}}),Object(i.jsx)("div",{className:"absolute w-full h-full overflow-hidden",style:{zIndex:-1},children:Object(i.jsx)("img",{className:"w-full h-full object-cover object-center filter blur-2xl brightness-50",src:e.albumCover})})]})}var u=c(5),f=c(17),m=c.n(f),x=c(19),O=c(25);c(45);O.a.initializeApp({projectId:"mouseion-tis-atmos"});var p=O.a,v=p.firestore();function g(e){var t=Object(s.useRef)();return Object(s.useEffect)((function(){var c=new IntersectionObserver((function(a){a[0].isIntersecting&&(null!=e.image?t.current.src=e.image:t.current.src="https://picardia.co/static/papes/4b50dbaa-624e-11e7-b2fe-3a6e8f7c670f.jpg",t.current.addEventListener("load",(function(){t.current.style.opacity=1})),c.disconnect())}));c.observe(t.current)}),[]),Object(i.jsxs)(l.b,{className:"m-2 transition bg-gray-800 bg-opacity-60 hover:filter brightness-150 p-2 hover:bg-gray-400 hover:text-gray-800",to:null==e.to?"#":e.to,title:e.text,children:[Object(i.jsx)("img",{className:"w-40 h-40 object-cover object-center opacity-0 transition-opacity delay-1000",ref:t}),Object(i.jsx)("p",{className:"w-40 text-xl text-center truncate",children:e.text})]})}function N(){var e=Object(s.useState)([]),t=Object(a.a)(e,2),c=t[0],r=t[1];return Object(s.useEffect)(Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.collection("t3artists").orderBy("name").limit(100).get();case 2:t=e.sent,r(t.docs);case 4:case"end":return e.stop()}}),e)}))),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{className:"text-3xl pb-4 border-b border-gray-600 border-opacity-70",children:"Artists"}),Object(i.jsx)("div",{className:"flex flex-wrap",children:c.map((function(e,t){return Object(i.jsx)(g,{text:e.data().name,to:"/artist/".concat(e.id)},t)}))})]})}function S(e){var t=Object(u.f)().id,c=Object(s.useState)(""),r=Object(a.a)(c,2),n=r[0],l=r[1],j=Object(s.useState)([]),o=Object(a.a)(j,2),b=(o[0],o[1],Object(s.useState)([])),d=Object(a.a)(b,2),h=(d[0],d[1],Object(s.useState)([])),f=Object(a.a)(h,2),O=f[0],N=(f[1],Object(s.useState)([])),S=Object(a.a)(N,2),z=S[0],w=(S[1],Object(s.useState)([])),M=Object(a.a)(w,2),y=(M[0],M[1],Object(s.useState)([])),k=Object(a.a)(y,2),V=(k[0],k[1],Object(s.useState)([])),C=Object(a.a)(V,2),B=(C[0],C[1],Object(s.useState)([])),L=Object(a.a)(B,2),H=(L[0],L[1],Object(s.useState)([])),T=Object(a.a)(H,2),E=(T[0],T[1],Object(s.useState)([])),I=Object(a.a)(E,2),A=(I[0],I[1],Object(s.useState)([])),F=Object(a.a)(A,2),R=(F[0],F[1],Object(s.useState)([])),P=Object(a.a)(R,2),J=(P[0],P[1],Object(s.useState)([])),Q=Object(a.a)(J,2),W=(Q[0],Q[1],Object(s.useState)([])),q=Object(a.a)(W,2),D=(q[0],q[1],Object(s.useState)([])),G=Object(a.a)(D,2),K=(G[0],G[1],Object(s.useState)([])),U=Object(a.a)(K,2),X=(U[0],U[1],Object(s.useState)([])),Y=Object(a.a)(X,2),Z=(Y[0],Y[1],Object(s.useState)([])),$=Object(a.a)(Z,2);$[0],$[1];return Object(s.useEffect)(Object(x.a)(m.a.mark((function e(){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.collection("t3artists").where(p.firestore.FieldPath.documentId(),"==",t).get();case 2:0===(c=e.sent).size?l("Artist not found."):(a=c.docs[0],l(a.get("name")));case 4:case"end":return e.stop()}}),e)}))),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("img",{className:"w-40 h-40 object-cover object-center opacity-0 transition-opacity delay-1000",src:"https://picardia.co/static/papes/4b50dbaa-624e-11e7-b2fe-3a6e8f7c670f.jpg"}),Object(i.jsx)("h1",{className:"text-3xl pb-4 border-b border-gray-600 border-opacity-70",children:n}),Object(i.jsxs)("p",{className:"",children:["Variants:",O.map((function(e,t){return Object(i.jsx)("button",{children:e.get("name")},t)}))]}),Object(i.jsx)("div",{className:"flex flex-wrap",children:z.map((function(e,t){return Object(i.jsx)(g,{text:e.data().title,image:"https://picardia.co/mouseion/images/".concat(e.data().artwork[0])},t)}))})]})}function z(){return Object(i.jsx)("h1",{children:"Home"})}function w(){return Object(i.jsx)("div",{className:"bg-main py-16 lg:py-20 min-h-screen",children:Object(i.jsx)("div",{className:"mx-2 sm:mx-4 md:mx-8 lg:mx-16 xl:mx-30 2xl:mx-40 space-y-4",children:Object(i.jsxs)(u.c,{children:[Object(i.jsx)(u.a,{exact:!0,path:"/",children:Object(i.jsx)(z,{})}),Object(i.jsx)(u.a,{exact:!0,path:"/labels",children:Object(i.jsx)(z,{})}),Object(i.jsx)(u.a,{exact:!0,path:"/artists",children:Object(i.jsx)(N,{})}),Object(i.jsx)(u.a,{exact:!0,path:"/albums",children:Object(i.jsx)(z,{})}),Object(i.jsx)(u.a,{exact:!0,path:"/songs",children:Object(i.jsx)(z,{})}),Object(i.jsx)(u.a,{exact:!0,path:"/artist/:id",children:Object(i.jsx)(S,{})}),Object(i.jsx)(u.a,{exact:!0,path:"/album/:id",children:Object(i.jsx)(z,{})}),Object(i.jsx)(u.a,{exact:!0,path:"/search",children:Object(i.jsx)(z,{})}),Object(i.jsx)(u.a,{exact:!0,path:"/settings",children:Object(i.jsx)(z,{})})]})})})}function M(){var e=Object(s.useState)(0),t=Object(a.a)(e,2),c=t[0],r=t[1],n=Object(s.useState)(0),o=Object(a.a)(n,2),b=o[0],d=o[1],u=Object(s.useState)(""),f=Object(a.a)(u,2),m=f[0],x=f[1],O=Object(s.useState)(1),p=Object(a.a)(O,2),v=p[0],g=p[1],N=Object(s.useState)(1),S=Object(a.a)(N,2),z=S[0],M=S[1],y=Object(s.useState)(0),k=Object(a.a)(y,2),V=k[0],C=k[1],B=Object(s.useState)(!1),L=Object(a.a)(B,2),H=L[0],T=L[1],E=Object(s.useState)(!0),I=Object(a.a)(E,2),A=I[0],F=I[1],R=Object(s.useRef)();return Object(s.useEffect)((function(){R.current.src="https://picardia.co/mouseion/songs/74664af2529421f10bb2bf65237b10d2c3abb61c.mp3",R.current.addEventListener("timeupdate",(function(){r(R.current.currentTime)})),R.current.addEventListener("durationchange",(function(){d(R.current.duration)})),setInterval((function(){x(function(e,t){isNaN(e)&&(e=0),isNaN(t)&&(t=0);var c=String(Math.floor(e/3600)),a=String(Math.floor(e)%60).padStart(2,0),s=String(Math.floor(t/3600)),r=String(Math.floor(t)%60).padStart(2,0),n=String(Math.floor(e/60)%60),l=String(Math.floor(t/60)%60);t>=600&&(n=n.padStart(2,0),l=l.padStart(2,0));var i="".concat(n,":").concat(a),j="".concat(l,":").concat(r);return t>=3600&&(i="".concat(c,":")+i,j="".concat(s,":")+j),"".concat(i," / ").concat(j)}(Math.round(R.current.currentTime),Math.round(R.current.duration)))}),1e3)}),[]),Object(i.jsxs)(l.a,{children:[Object(i.jsx)("audio",{ref:R}),Object(i.jsx)(w,{}),Object(i.jsx)(j,{}),Object(i.jsx)(h,{albumCover:"https://picardia.co/static/papes/4b50dbaa-624e-11e7-b2fe-3a6e8f7c670f.jpg",songName:"Song Name",artistName:"Artist Name",albumName:"Album Name",timeStat:m,currentTime:c,duration:b,volume:v,repeat:V,shuffle:H,paused:A,handleChangeVol:function(e){console.log("Volume change",e),R.current.volume=e,g(e),M(e)},handleToggleMute:function(){0!==v?(R.current.volume=0,M(v),g(0)):(R.current.volume=z,g(z))},handleChangeRepeat:function(){C((V+1)%3)},handleToggleShuffle:function(){T(!H)},handleTogglePause:function(){A?R.current.play():R.current.pause(),F(!A)},handleSeek:function(e){var t=e*b;R.current.currentTime=t}})]})}n.a.render(Object(i.jsx)(s.StrictMode,{children:Object(i.jsx)(M,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.bc6941c4.chunk.js.map