{"version":3,"sources":["navbar.jsx","bottom-player.jsx","firestore.js","main-content.jsx","index.jsx"],"names":["NavBar","props","useState","search","setSearch","className","to","placeholder","onChange","event","target","value","fill","viewBox","focusable","d","VolumeIcon","path","volume","RepeatIcon","repeat","PlayIcon","paused","BottomPlayer","src","albumCover","songName","artistName","albumName","timeStat","type","min","max","step","newVol","Number","handleChangeVol","onWheel","onClick","handleToggleMute","handleChangeRepeat","handleToggleShuffle","shuffle","handleToggleQueue","handleSkipBack","handleTogglePause","handleSkipFwd","currentTime","duration","newSeek","handleSeek","style","zIndex","firebase","initializeApp","projectId","firebaseInstance","firestore","collection","Thumbnail","image","useRef","useEffect","observer","IntersectionObserver","entities","isIntersecting","current","addEventListener","opacity","disconnect","observe","title","text","ref","Home","Artists","list","setList","a","orderBy","limit","get","query","docs","map","v","i","data","name","id","Artist","useParams","setName","where","FieldPath","documentId","size","doc","collectionGroup","albums","listData","parent","album","push","artwork","MainContent","exact","Root","setCurrentTime","setDuration","setTimeStat","setVolume","oldVolume","setOldVolume","setRepeat","setShuffle","setPaused","audio","setInterval","isNaN","currentHours","String","Math","floor","currentSeconds","padStart","durationHours","durationSeconds","currentMinutes","durationMinutes","curStr","durStr","formatTime","round","console","log","play","pause","timeFrac","newTime","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b050c164.chunk.js","sourcesContent":["import { useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nexport default function NavBar (props) {\n  const [search, setSearch] = useState('')\n\n  return (\n    <div className='bg-nav fixed inset-x-0 top-0 px-2 lg:py-1 grid grid-cols-3 items-center'>\n      <Link className='text-xl' to='/'>蒸気<span className='hidden sm:inline'><span className='text-gray-300'>の</span>博物館</span></Link>\n      <h1 className='hidden truncate text-xl'>господи как же хочется тян</h1>\n      <div className='flex my-2'>\n        <input\n          className='appearance-none bg-transparent border rounded-l-sm border-white border-opacity-50 placeholder-white placeholder-opacity-70 px-1 lg:px-2 w-full'\n          placeholder='Search'\n          onChange={(event) => setSearch(event.target.value)}\n        />\n        <Link to={`/search/${search}`} className='cursor-pointer py-1.5 px-2 lg:px-3 border border-l-0 rounded-r-sm border-white border-opacity-50'>\n          <svg className='h-5' fill='rgba(255, 255, 255, 0.7)' viewBox='0 0 24 24' focusable='false'>\n            <path d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z' />\n          </svg>\n        </Link>\n      </div>\n      <div className='flex justify-self-end space-x-2 md:space-x-4'>\n        <Link className='p-1 hidden sm:block' to='/labels'>\n          <svg className='h-6' fill='#ffffff' viewBox='0 0 24 24' focusable='false'>\n            <path d='M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z' />\n          </svg>\n        </Link>\n        <Link className='p-1 hidden sm:block' to='/artists'>\n          <svg className='h-6' fill='#ffffff' viewBox='0 0 24 24' focusable='false'>\n            <path d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z' />\n          </svg>\n        </Link>\n        <Link className='p-1 hidden sm:block' to='/albums'>\n          <svg className='h-6' fill='#ffffff' viewBox='0 0 24 24' focusable='false'>\n            <path d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z' />\n          </svg>\n        </Link>\n        <Link className='p-1 hidden sm:block' to='/songs'>\n          <svg className='h-6' fill='#ffffff' viewBox='0 0 24 24' focusable='false'>\n            <path d='M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z' />\n          </svg>\n        </Link>\n        <Link className='p-1' to='/settings'>\n          <svg className='h-6' fill='#ffffff' viewBox='0 0 24 24' focusable='false'>\n            <path d='M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z' />\n          </svg>\n        </Link>\n      </div>\n    </div>\n  )\n}\n","function VolumeIcon (props) {\n  let path\n  if (props.volume === 0) {\n    path = <path d='M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z' />\n  } else if (props.volume < 1 / 3) {\n    path = <path d='M7 9v6h4l5 5V4l-5 5H7z' />\n  } else if (props.volume < 2 / 3) {\n    path = <path d='M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z' />\n  } else {\n    path = <path d='M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z' />\n  }\n  return (\n    <svg className='h-6' fill='#ffffff' viewBox='0 0 24 24' focusable='false'>{path}</svg>\n  )\n}\n\nfunction RepeatIcon (props) {\n  let path = <path d='M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z' />\n  if (props.repeat === 2) path = <path d='M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4zm-4-2V9h-1l-2 1v1h1.5v4H13z' />\n  return (\n    <svg className='h-6' fill={props.repeat === 0 ? '#999999' : '#ffffff'} viewBox='0 0 24 24' focusable='false'>{path}</svg>\n  )\n}\n\nfunction PlayIcon (props) {\n  let path = <path d='M6 19h4V5H6v14zm8-14v14h4V5h-4z' />\n  if (props.paused) path = <path d='M8 5v14l11-7z' />\n  return (\n    <svg className='h-8 md:h-10' fill='#ffffff' viewBox='0 0 24 24' focusable='false'>{path}</svg>\n  )\n}\n\nexport default function BottomPlayer (props) {\n  function handleChangeVol (event) {\n    event.target.step = 'any'\n    // If your vol is maxxed, it's maxxed\n    // But if you're an autist like me who likes to have things quietly sometimes:\n    // This allows better fine tuning\n    const newVol = Number(event.target.value) ** 2\n    props.handleChangeVol(newVol)\n  }\n\n  function handleSeek (event) {\n    const newSeek = Number(event.target.value)\n    props.handleSeek(newSeek)\n  }\n\n  return (\n    <div className='bg-gray-800 fixed inset-x-0 bottom-0 grid grid-cols-2'>\n      {/* Main content */}\n      <div className='flex items-center space-x-2 sm:mx-2 md:space-x-4'>\n        {/* Album cover thumbnail, song name, artist name, album name, time stat */}\n        <img className='h-10 w-10 object-cover object-center hidden md:block' src={props.albumCover} />\n        <div className='text-sm overflow-hidden'>\n          <p className='truncate cursor-pointer hover:underline select-none'><b>{props.songName}</b></p>\n          <p className='truncate select-none'><span className='cursor-pointer hover:underline'>{props.artistName}</span> • <span className='cursor-pointer hover:underline'>{props.albumName}</span></p>\n        </div><span className='whitespace-nowrap text-xs font-mono tracking-tighter hidden sm:block'>{props.timeStat}</span>\n      </div>\n      <div className='flex items-center justify-end lg:space-x-2'>\n        {/* Buttons */}\n        {/* Volume slider */}\n        <input\n          className='volume-slider hidden sm:block'\n          type='range' min='0' max='1' step='any'\n          onChange={handleChangeVol}\n          onWheel={(event) => { event.target.step = 0.1 }}\n        />\n        {/* Volume button */}\n        <div className='cursor-pointer p-1 md:p-2' onClick={props.handleToggleMute}>\n          <VolumeIcon volume={props.volume} />\n        </div>\n        {/* Repeat button */}\n        <div className='cursor-pointer hidden sm:block p-1 md:p-2' onClick={props.handleChangeRepeat}>\n          <RepeatIcon repeat={props.repeat} />\n        </div>\n        {/* Shuffle button */}\n        <div className='cursor-pointer hidden sm:block p-1 md:p-2' onClick={props.handleToggleShuffle}>\n          <svg className='h-6' fill={props.shuffle ? '#ffffff' : '#999999'} viewBox='0 0 24 24' focusable='false'>\n            <path d='M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z' />\n          </svg>\n        </div>\n        {/* Queue button */}\n        <div className='cursor-pointer hidden sm:block p-1 md:p-2' onClick={props.handleToggleQueue}>\n          <svg className='h-6' fill='#ffffff' viewBox='0 0 24 24' focusable='false'>\n            <path d='M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z' />\n          </svg>\n        </div>\n        {/* Skip back button */}\n        <div className='cursor-pointer hidden sm:block p-1 md:p-2' onClick={props.handleSkipBack}>\n          <svg className='h-6' fill='#ffffff' viewBox='0 0 24 24' focusable='false'>\n            <path d='M6 6h2v12H6zm3.5 6l8.5 6V6z' />\n          </svg>\n        </div>\n        {/* Play / pause button */}\n        <div className='cursor-pointer p-1 md:p-2' onClick={props.handleTogglePause}>\n          <PlayIcon paused={props.paused} />\n        </div>\n        {/* Skip forward button */}\n        <div className='cursor-pointer p-1 md:p-2' onClick={props.handleSkipFwd}>\n          <svg className='h-6' fill='#ffffff' viewBox='0 0 24 24' focusable='false'>\n            <path d='M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z' />\n          </svg>\n        </div>\n        {/* Mobile view button button */}\n        <div className='cursor-pointer sm:hidden p-1 md:p-2'>\n          <svg className='h-6' fill='#ffffff' viewBox='0 0 24 24' focusable='false'>\n            <path d='M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z' />\n          </svg>\n        </div>\n      </div>\n      {/* Seekbar */}\n      <input\n        className='w-full track-slider'\n        type='range' min='0' max='1' step='any'\n        value={props.currentTime / props.duration}\n        onChange={handleSeek}\n      />\n      {/* Album cover background */}\n      <div className='absolute w-full h-full overflow-hidden' style={{ zIndex: -1 }}>\n        <img\n          className='w-full h-full object-cover object-center filter blur-2xl brightness-50'\n          src={props.albumCover}\n        />\n      </div>\n    </div>\n  )\n}\n","import firebase from 'firebase/app'\nimport 'firebase/firestore'\n\nfirebase.initializeApp({\n  projectId: 'mouseion-tis-atmos'\n})\n\nexport const firebaseInstance = firebase\n\nexport const firestore = firebase.firestore()\n\nexport const artistsCol = firestore.collection('t2artists')\n\nexport const albumsCol = firestore.collection('t2albums')\n","/* eslint-env browser */\nimport { useState, useEffect, useRef } from 'react'\nimport { Switch, Route, Link, useParams } from 'react-router-dom'\n\nimport { firebaseInstance, firestore } from './firestore'\n\nfunction Thumbnail (props) {\n  const image = useRef()\n\n  useEffect(() => {\n    const observer = new IntersectionObserver((entities) => {\n      if (entities[0].isIntersecting) {\n        if (props.image != null) {\n          image.current.src = props.image\n        } else {\n          image.current.src = 'https://picardia.co/static/papes/4b50dbaa-624e-11e7-b2fe-3a6e8f7c670f.jpg'\n        }\n        image.current.addEventListener('load', () => {\n          image.current.style.opacity = 1\n        })\n        observer.disconnect()\n      }\n    })\n    observer.observe(image.current)\n  }, [])\n\n  return (\n    <Link\n      className='m-2 transition bg-gray-800 bg-opacity-60 hover:filter brightness-150 p-2 hover:bg-gray-400 hover:text-gray-800'\n      to={props.to == null ? '#' : props.to}\n      title={props.text}\n    >\n      <img className='w-40 h-40 object-cover object-center opacity-0 transition-opacity delay-1000' ref={image} />\n      <p className='w-40 text-xl text-center truncate'>{props.text}</p>\n    </Link>\n  )\n}\n\nfunction Home () {\n  return <h1>Home</h1>\n}\n\nfunction Artists () {\n  const [list, setList] = useState([])\n  // const [page, setPage] = useState(0)\n\n  useEffect(async () => {\n    const query = await firestore.collection('t2artists').orderBy('name').limit(100).get()\n    setList(query.docs)\n  }, [])\n\n  return (\n    <>\n      <h1 className='text-3xl pb-4 border-b border-gray-600 border-opacity-70'>Artists</h1>\n      <div className='flex flex-wrap'>\n        {list.map((v, i) => {\n          return <Thumbnail key={i} text={v.data().name} to={`/artist/${v.id}`} />\n        })}\n      </div>\n    </>\n  )\n}\n\nfunction Artist (props) {\n  const { id } = useParams()\n  const [name, setName] = useState('')\n  const [list, setList] = useState([])\n\n  useEffect(async () => {\n    const docs = await firestore.collection('t2artists').where(firebaseInstance.firestore.FieldPath.documentId(), '==', id).get()\n    if (docs.size === 0) {\n      setName('Artist not found.')\n    } else {\n      const doc = docs.docs[0]\n      setName(doc.get('name'))\n      const albums = await firestore.collectionGroup('track-artists').where('ref', '==', doc.ref).get()\n      const listData = []\n      for (const doc of albums.docs) {\n        const album = await doc.ref.parent.parent.get()\n        listData.push(album)\n      }\n      setList(listData)\n    }\n  }, [])\n\n  return (\n    <>\n      <h1 className='text-3xl pb-4 border-b border-gray-600 border-opacity-70'>{name}</h1>\n      <div className='flex flex-wrap'>\n        {list.map((v, i) => {\n          return <Thumbnail key={i} text={v.data().title} image={`https://picardia.co/mouseion/images/${v.data().artwork[0]}`} />\n        })}\n      </div>\n    </>\n  )\n}\n\nexport default function MainContent () {\n  return (\n    <div className='bg-main py-16 lg:py-20 min-h-screen'>\n      <div className='mx-2 sm:mx-4 md:mx-8 lg:mx-16 xl:mx-30 2xl:mx-40 space-y-4'>\n        <Switch>\n          <Route exact path='/'>\n            <Home />\n          </Route>\n          <Route exact path='/labels'>\n            <Home />\n          </Route>\n          <Route exact path='/artists'>\n            <Artists />\n          </Route>\n          <Route exact path='/albums'>\n            <Home />\n          </Route>\n          <Route exact path='/songs'>\n            <Home />\n          </Route>\n          <Route exact path='/artist/:id'>\n            <Artist />\n          </Route>\n          <Route exact path='/album/:id'>\n            <Home />\n          </Route>\n          <Route exact path='/search'>\n            <Home />\n          </Route>\n          <Route exact path='/settings'>\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </div>\n  )\n}\n","import { useState, useEffect, useRef, StrictMode } from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport './style.scss'\nimport './backgrounds.css'\n\nimport Navbar from './navbar'\nimport BottomPlayer from './bottom-player'\nimport MainContent from './main-content'\n\nfunction formatTime (currentTime, duration) {\n  if (isNaN(currentTime)) currentTime = 0\n  if (isNaN(duration)) duration = 0\n  const currentHours = String(Math.floor(currentTime / 3600))\n  const currentSeconds = String(Math.floor(currentTime) % 60).padStart(2, 0)\n  const durationHours = String(Math.floor(duration / 3600))\n  const durationSeconds = String(Math.floor(duration) % 60).padStart(2, 0)\n  let currentMinutes = String(Math.floor(currentTime / 60) % 60)\n  let durationMinutes = String(Math.floor(duration / 60) % 60)\n  if (duration >= 600) {\n    currentMinutes = currentMinutes.padStart(2, 0)\n    durationMinutes = durationMinutes.padStart(2, 0)\n  }\n  let curStr = `${currentMinutes}:${currentSeconds}`\n  let durStr = `${durationMinutes}:${durationSeconds}`\n  if (duration >= 3600) {\n    curStr = `${currentHours}:` + curStr\n    durStr = `${durationHours}:` + durStr\n  }\n  return `${curStr} / ${durStr}`\n}\n\nfunction Root () {\n  const [currentTime, setCurrentTime] = useState(0)\n  const [duration, setDuration] = useState(0)\n  const [timeStat, setTimeStat] = useState('')\n  const [volume, setVolume] = useState(1)\n  const [oldVolume, setOldVolume] = useState(1)\n  const [repeat, setRepeat] = useState(0)\n  const [shuffle, setShuffle] = useState(false)\n  const [paused, setPaused] = useState(true)\n  const audio = useRef()\n\n  // Init event\n  useEffect(() => {\n    // audio.current.src = 'https://picardia.co/mouseion/songs/f3b7681372e8f95117aef9388590a3942f0bc64d.mp3'\n    audio.current.src = 'https://picardia.co/mouseion/songs/74664af2529421f10bb2bf65237b10d2c3abb61c.mp3'\n    audio.current.addEventListener('timeupdate', () => {\n      setCurrentTime(audio.current.currentTime)\n    })\n    audio.current.addEventListener('durationchange', () => {\n      setDuration(audio.current.duration)\n    })\n    setInterval(() => {\n      setTimeStat(formatTime(Math.round(audio.current.currentTime), Math.round(audio.current.duration)))\n    }, 1000)\n  }, [])\n\n  function changeVol (newVol) {\n    console.log('Volume change', newVol)\n    audio.current.volume = newVol\n    setVolume(newVol)\n    setOldVolume(newVol)\n  }\n  function toggleMute () {\n    if (volume !== 0) {\n      audio.current.volume = 0\n      setOldVolume(volume)\n      setVolume(0)\n    } else {\n      audio.current.volume = oldVolume\n      setVolume(oldVolume)\n    }\n  }\n  function changeRepeat () {\n    setRepeat((repeat + 1) % 3)\n  }\n  function toggleShuffle () {\n    setShuffle(!shuffle)\n  }\n  function togglePause () {\n    if (paused) {\n      audio.current.play()\n    } else {\n      audio.current.pause()\n    }\n    setPaused(!paused)\n  }\n  function seek (timeFrac) {\n    const newTime = timeFrac * duration\n    audio.current.currentTime = newTime\n  }\n\n  return (\n    <BrowserRouter>\n      <audio ref={audio} />\n      <MainContent />\n      <Navbar />\n      <BottomPlayer\n        albumCover='https://picardia.co/static/papes/4b50dbaa-624e-11e7-b2fe-3a6e8f7c670f.jpg'\n        songName='Song Name'\n        artistName='Artist Name'\n        albumName='Album Name'\n        timeStat={timeStat}\n        currentTime={currentTime}\n        duration={duration}\n        volume={volume}\n        repeat={repeat}\n        shuffle={shuffle}\n        paused={paused}\n        handleChangeVol={changeVol}\n        handleToggleMute={toggleMute}\n        handleChangeRepeat={changeRepeat}\n        handleToggleShuffle={toggleShuffle}\n        handleTogglePause={togglePause}\n        handleSeek={seek}\n      />\n    </BrowserRouter>\n  )\n}\n\nReactDOM.render(\n  <StrictMode>\n    <Root />\n  </StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}